name: "CodeQL"

on:
  push:
    branches: [ "master" ]  # Adjust branch name if different
  pull_request:
    branches: [ "master" ]  # Adjust branch name if different
  schedule:
    - cron: '0 0 * * *'  # Daily schedule example

jobs:
  analyze:
    name: Analyze CodeQL (${{ matrix.language }})
    runs-on: ubuntu-latest  # Default runner

    strategy:
      matrix:
        language:
          - "java-kotlin"
          - "javascript-typescript"
          - "python"
        build-mode: ["default"]  # Adjust build mode as needed

    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Initialize CodeQL
        uses: github/codeql-action/init@v3
        with:
          languages: ${{ matrix.language }}
          build-mode: ${{ matrix.build-mode }}
          # Specify custom queries if needed
          # queries: security-extended, security-and-quality

      - name: Perform CodeQL Analysis
        uses: github/codeql-action/analyze@v3
        with:
          # Specify the path to the QL packs if custom ones are used
          # qlpacks: ./path/to/qlpacks
          # Configuration for specific language analysis
          category: "/language:${{ matrix.language }}"
